/* Window Controls & Headerbar
 * 
 * Headerbar styling and window control buttons (minimize, maximize, close).
 * Uses design tokens from variables.css
 */

/* ================================================================
 * Headerbar
 * ================================================================ */
headerbar {
    min-height: var(--hf-size-headerbar-height);
    padding: 0 var(--hf-spacing-xs);
}

/* ================================================================
 * Window Control Buttons
 * Note: 24px is below WCAG 2.1 AAA (44x44px) but acceptable for window chrome
 * ================================================================ */
headerbar button.window-control,
headerbar button.flat.window-control {
    min-width: var(--hf-size-button-window-control);
    max-width: var(--hf-size-button-window-control);
    min-height: var(--hf-size-button-window-control);
    max-height: var(--hf-size-button-window-control);
    padding: 2px;
    margin: 0;
    border-radius: var(--hf-radius-sm);
    background-color: transparent;
}

headerbar button.window-control image {
    -gtk-icon-size: var(--hf-size-icon-window-control);
}

headerbar button.window-control:hover {
    background-color: alpha(@view_fg_color, var(--hf-opacity-hover));
}

headerbar button.window-control:active {
    background-color: alpha(@view_fg_color, var(--hf-opacity-active));
}

headerbar button.window-control:focus-visible {
    outline: var(--hf-focus-width-small) solid @accent_color;
    outline-offset: var(--hf-focus-offset-small);
}

/* ================================================================
 * Close Button - Special Styling
 * ================================================================ */
headerbar button.window-control.close-button:hover {
    background-color: @error_bg_color;
    color: @error_fg_color;
}

headerbar button.window-control.close-button:active {
    background-color: shade(@error_bg_color, 0.9);
    color: @error_fg_color;
}

headerbar button.window-control.close-button:focus-visible {
    outline: var(--hf-focus-width-small) solid @error_color;
    outline-offset: var(--hf-focus-offset-small);
}

/* ================================================================
 * Daemon Indicator Button
 * ================================================================ */
headerbar button.daemon-active {
    min-width: var(--hf-size-button-daemon);
    max-width: var(--hf-size-button-daemon);
    min-height: var(--hf-size-button-daemon);
    max-height: var(--hf-size-button-daemon);
    padding: 2px;
    border-radius: var(--hf-radius-sm);
    color: @success_color;
}

headerbar button.daemon-active:hover {
    background-color: alpha(@success_color, var(--hf-opacity-active));
    color: @success_color;
}

headerbar button.daemon-active:focus-visible {
    outline: var(--hf-focus-width-small) solid @success_color;
    outline-offset: var(--hf-focus-offset-small);
}

/* ================================================================
 * Daemon Indicator - Error State
 * ================================================================ */
headerbar button.daemon-error {
    min-width: var(--hf-size-button-daemon);
    max-width: var(--hf-size-button-daemon);
    min-height: var(--hf-size-button-daemon);
    max-height: var(--hf-size-button-daemon);
    padding: 2px;
    border-radius: var(--hf-radius-sm);
    color: @error_color;
}

headerbar button.daemon-error:hover {
    background-color: alpha(@error_color, var(--hf-opacity-active));
    color: @error_color;
}

headerbar button.daemon-error:focus-visible {
    outline: var(--hf-focus-width-small) solid @error_color;
    outline-offset: var(--hf-focus-offset-small);
}

/* ================================================================
 * Support Button
 * ================================================================ */
headerbar button.support-button {
    min-width: var(--hf-size-button-daemon);
    max-width: var(--hf-size-button-daemon);
    min-height: var(--hf-size-button-daemon);
    max-height: var(--hf-size-button-daemon);
    padding: 2px;
    border-radius: var(--hf-radius-sm);
    color: @warning_color;
}

headerbar button.support-button:hover {
    background-color: alpha(@warning_color, var(--hf-opacity-active));
    color: @warning_color;
}

headerbar button.support-button:focus-visible {
    outline: var(--hf-focus-width-small) solid @warning_color;
    outline-offset: var(--hf-focus-offset-small);
}
